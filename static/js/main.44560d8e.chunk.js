(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{12:function(e,t,r){e.exports={header:"MainNavigation_header__1eTWp",logo:"MainNavigation_logo__2S30C",nav:"MainNavigation_nav__7QCTQ",active:"MainNavigation_active__3RUWq",linkToGit:"MainNavigation_linkToGit__3iPIP"}},2:function(e,t,r){e.exports={form:"NewUserForm_form__Rx8fj",control:"NewUserForm_control__3gtAJ",actions:"NewUserForm_actions__Ubfh9",error_box:"NewUserForm_error_box__15SWX",error_title:"NewUserForm_error_title__1bJSt",error_message:"NewUserForm_error_message__N5qno",error_text:"NewUserForm_error_text__2bEVh",error_input_border:"NewUserForm_error_input_border__2RYGv"}},22:function(e,t,r){e.exports={list:"UserList_list__28Q5_",sorting:"UserList_sorting__aEAuP"}},23:function(e,t,r){e.exports={item:"UserItem_item__zWGcH"}},26:function(e,t,r){e.exports={nousers:"NoUserFound_nousers__3Z54F"}},27:function(e,t,r){e.exports={card:"Card_card__1Z5RJ"}},29:function(e,t,r){e.exports={main:"Layout_main__3grmh"}},35:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var s=r(20),n=r.n(s),a=r(6),c=(r(35),r(3)),i=r(1),l=r.n(i),o=r(23),u=r.n(o),d=r(0),b=function(e){return Object(d.jsxs)("li",{className:u.a.item,children:[Object(d.jsxs)("figure",{children:[Object(d.jsxs)("blockquote",{children:[Object(d.jsx)("p",{children:e.name}),Object(d.jsx)("p",{children:e.surname})]}),Object(d.jsxs)("figcaption",{children:["Tel.: ",e.phone]}),Object(d.jsxs)("figcaption",{children:["Email: ",e.email]})]}),Object(d.jsx)(a.b,{className:"btn users_details_btn",to:"/ReactUsersApp/users/".concat(e.id),children:"View Details"})]})},j=r(22),p=r.n(j),h=l.a.createContext({persons:[],addUser:function(e){},removeUser:function(e){},editUser:function(e){}}),m=function(e){var t,r,s=Object(i.useContext)(h),n=Object(c.g)(),a=Object(c.h)(),l="asc"===new URLSearchParams(a.search).get("sort"),o=(t=s.persons,r=l,t.sort((function(e,t){return r?e.name>t.name?1:-1:e.name<t.name?1:-1}))),u=function(t){e.onInsertNewUser(t)};return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)("div",{className:p.a.sorting,children:Object(d.jsxs)("button",{onClick:function(){n.push({pathname:a.pathname,search:"?sort=".concat(l?"desc":"asc")})},children:["Sort ",l?"Descending":"Ascending"]})}),Object(d.jsx)("ul",{className:p.a.list,children:o.map((function(e){return Object(d.jsx)(b,{id:e.id,name:e.name,surname:e.surname,phone:e.phone,email:e.email,onInsertNewUser:u},e.id)}))})]})},O=r(26),x=r.n(O),f=function(){return Object(d.jsxs)("div",{className:x.a.nousers,children:[Object(d.jsx)("p",{children:"No users found!"}),Object(d.jsx)(a.b,{className:"btn",to:"/ReactUsersApp/new-user",children:"Add New User"})]})},_=function(){return 0===Object(i.useContext)(h).persons.length?Object(d.jsx)(f,{}):Object(d.jsx)(m,{})},v=r(16),g=r(10),N=r(14),y=r.n(N),U=r(27),w=r.n(U);var k=function(e){return Object(d.jsx)("div",{className:w.a.card,children:e.children})},R=r(2),A=r.n(R),D=/^[a-zA-Z].*[\s.]*$/,I=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function C(e){var t=e.name,r=e.surname,s=e.birth_date,n=e.email,a=e.password,c=e.phone,i=e.identity,l=e.passport_number,o={title:"",message:"",isValid:!0},u=function(e){return D.test(e)};0!==t.trim().length&&0!==r.trim().length&&0!==s.trim().length&&0!==n.trim().length&&0!==a.trim().length&&0!==i.trim().length||(o={title:"Invalid input",message:"Cannot insert empty values.",isValid:!1}),(t.length<2||t.length>20||!u(t))&&(o={title:"Invalid Name",message:"Name should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(r.length<2||r.length>20||!u(r))&&(o={title:"Invalid Surname",message:"Surname should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(a.length<6||a.length>15)&&(o={title:"Invalid Password",message:"Should be at least 6 symbols but not more than 15 symbols",isValid:!1}),(c.length<5||c.length>13)&&(o={title:"Invalid Phone number",message:"Should be at least 5 but not more than 13 digits ",isValid:!1}),"ID"!==i&&"Passport"!==i&&(o={title:"Identity error",message:"Only ID or Passport can be chosen ",isValid:!1}),(l.length<5||l.length>9)&&(o={title:"Invalid Passport number",message:"Should be at least 5 but not more than 9 digits ",isValid:!1}),new Date(s)>new Date&&(o={title:"Invalid Date of Birth",message:"Please insert valid date of birth",isValid:!1});return(!function(e){return I.test(e)}(n)||n.length>50)&&(o={title:"Invalid Email format",message:"Please check if email format is correct",isValid:!1}),o}var P=function(e,t,r,s){var n=Object(i.useState)(""),a=Object(g.a)(n,2),c=a[0],l=a[1],o=Object(i.useState)(!1),u=Object(g.a)(o,2),d=u[0],b=u[1],j=Object(i.useState)(!0),p=Object(g.a)(j,2),h=p[0],m=p[1],O=Object(i.useState)(""),x=Object(g.a)(O,2),f=x[0],_=x[1],v=!h&&d,N=Object(i.useCallback)((function(t){switch(m(!1),console.log("this happend"),e){case"name":switch(t){case"empty":_("Name must not be empty.");break;case"length":_("At least 2 but not more than 20 letters.");break;case"type":_("Only letters allowed.");break;default:_("")}break;case"surname":switch(t){case"empty":_("Surname must not be empty.");break;case"length":_("At least 2 but not more than 20 letters.");break;case"type":_("Only letters allowed.");break;default:_("")}break;case"email":switch(t){case"empty":_("Email must not be empty.");break;case"length":_("At least 5 but not more than 50 characters.");break;case"type":_("Invalid Email format.");break;default:_("")}break;case"password":switch(t){case"empty":_("Password must not be empty.");break;case"length":_("At least 6 but not more than 16 characters.");break;default:_("")}break;case"phone":switch(t){case"length":_("At least 5 but not more than 13 numbers.");break;case"type":_("Invalid phone number format.");break;default:_("")}break;case"passport_number":switch(t){case"length":_("At least 5 but not more than 9 numbers.");break;case"type":_("Invalid passport number format.");break;default:_("")}break;default:_("")}}),[e]);return Object(i.useEffect)((function(){var e=setTimeout((function(){t(c)||!d?c&&!r(c)&&d?N("length"):c&&!s(c)&&d?N("type"):(m(!0),_("")):N("empty")}),1e3);return function(){clearTimeout(e)}}),[c,d,t,r,s,N]),{value:c,hasError:v,errorMessage:f,isValid:h,valueChangeHandler:function(e){l(e.target.value)},inputBlurHandler:function(){b(!0)}}},S=/^[a-zA-Z].*[\s.]*$/,V=/^[0-9]*$/,B=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,E=function(e){var t=P("name",(function(e){return""!==e.trim()}),(function(e){return e.length>=2&&e.length<=20}),(function(e){return S.test(e)})),r=t.value,s=t.isValid,n=t.errorMessage,a=t.valueChangeHandler,c=t.inputBlurHandler,l=P("surname",(function(e){return""!==e.trim()}),(function(e){return e.length>=2&&e.length<=20}),(function(e){return S.test(e)})),o=l.value,u=l.isValid,b=l.errorMessage,j=l.valueChangeHandler,p=l.inputBlurHandler,h=P("email",(function(e){return""!==e.trim()}),(function(e){return e.length>=5&&e.length<=50}),(function(e){return B.test(e)})),m=h.value,O=h.isValid,x=h.errorMessage,f=h.valueChangeHandler,_=h.inputBlurHandler,N=P("password",(function(e){return""!==e.trim()}),(function(e){return e.length>=6&&e.length<=15}),(function(e){return e})),U=N.value,w=N.isValid,R=N.errorMessage,D=N.valueChangeHandler,I=N.inputBlurHandler,E=P("phone",(function(e){return!0}),(function(e){return e.length>=5&&e.length<=13}),(function(e){return V.test(e)})),F=E.value,H=E.isValid,M=E.errorMessage,T=E.valueChangeHandler,q=E.inputBlurHandler,G=P("passport_number",(function(e){return!0}),(function(e){return e.length>=5&&e.length<=9}),(function(e){return V.test(e)})),W=G.value,Z=G.isValid,z=G.errorMessage,J=G.valueChangeHandler,L=G.inputBlurHandler,$=Object(i.useRef)(),Q=Object(i.useRef)(),Y=Object(i.useRef)(),X=Object(i.useRef)(),K=Object(i.useRef)(),ee=Object(i.useRef)(),te=Object(i.useRef)(),re=Object(i.useRef)(),se=Object(i.useState)(),ne=Object(g.a)(se,2),ae=ne[0],ce=ne[1],ie=function(){var t=Object(v.a)(y.a.mark((function t(r){var s,n,a,c,i,l,o,u,d,b,j,p,h;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),s=$.current.value,n=Q.current.value,a=Y.current.value,c=X.current.value,i=K.current.value,l=ee.current.value,o=te.current.value,u=re.current.value,d={id:"u"+(1e6*Math.random()).toFixed().toString(),name:s,surname:n,birth_date:a,email:c,password:i,phone:l,identity:o,passport_number:u},b=C(d),j=b.isValid,p=b.title,h=b.message,j){t.next=16;break}return ce({title:p,message:h}),t.abrupt("return");case 16:e.onAddUser(d);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=Object(d.jsx)("p",{className:A.a.error_text,children:n}),oe=Object(d.jsx)("p",{className:A.a.error_text,children:b}),ue=Object(d.jsx)("p",{className:A.a.error_text,children:x}),de=Object(d.jsx)("p",{className:A.a.error_text,children:R}),be=Object(d.jsx)("p",{className:A.a.error_text,children:M}),je=Object(d.jsx)("p",{className:A.a.error_text,children:z});return Object(d.jsxs)(k,{children:[ae&&Object(d.jsxs)("div",{className:A.a.error_box,children:[" ",Object(d.jsx)("div",{className:A.a.error_title,children:ae.title}),Object(d.jsx)("div",{className:A.a.error_message,children:ae.message})]}),Object(d.jsxs)("form",{className:A.a.form,onSubmit:ie,children:[Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",required:!0,id:"Name",ref:$,placeholder:"Name",title:"Name",value:r,onChange:a,onBlur:c,className:"".concat(s?"":A.a.error_input_border)}),le]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",required:!0,id:"Surname",ref:Q,placeholder:"Surname",title:"Surname",onChange:j,onBlur:p,value:o,className:"".concat(u?"":A.a.error_input_border)}),oe]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"email",type:"email",required:!0,ref:X,placeholder:"Email",title:"Email",onChange:f,value:m,onBlur:_,className:"".concat(O?"":A.a.error_input_border)}),ue]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"password",type:"password",required:!0,ref:K,placeholder:"Password",title:"Password",onChange:D,onBlur:I,className:"".concat(w?"":A.a.error_input_border),value:U}),de]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"phone",type:"number",ref:ee,placeholder:"Phone",title:"Phone",onChange:T,onBlur:q,className:"".concat(H?"":A.a.error_input_border),value:F}),be]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"passportnumber",type:"number",ref:re,placeholder:"Passport/ID number",title:"Passport/ID number",onChange:J,onBlur:L,value:W,className:"".concat(Z?"":A.a.error_input_border)}),je]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"identity",children:"Identity"}),Object(d.jsxs)("select",{id:"identity",ref:te,children:[Object(d.jsx)("option",{value:"ID",defaultValue:!0,children:"ID"}),Object(d.jsx)("option",{value:"Passport",children:"Passport"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"birthdate",children:"Birth Date"}),Object(d.jsx)("input",{type:"date",id:"birthdate",ref:Y})]})]}),Object(d.jsx)("div",{className:A.a.actions,children:Object(d.jsx)("button",{children:"Add User"})})]})]})},F=function(){var e=Object(c.g)(),t=Object(i.useContext)(h);return Object(d.jsx)(E,{onAddUser:function(r){t.addUser(r),e.push("/ReactUsersApp/users")}})},H=r(5),M=r.n(H),T=r(28),q=(r(46),function(e){var t=Object(c.g)(),r=Object(i.useContext)(h),s=Object(i.useState)(!1),n=Object(g.a)(s,2),l=n[0],o=n[1],u=Object(i.useState)(),b=Object(g.a)(u,2),j=b[0],p=b[1],m=Object(i.useRef)(),O=Object(i.useRef)(),x=Object(i.useRef)(),f=Object(i.useRef)(),_=Object(i.useRef)(),N=Object(i.useRef)(),U=Object(i.useRef)(),w=Object(i.useRef)(),k=function(){o(!l)},R=function(){var t=Object(v.a)(y.a.mark((function t(r){var s,n,a,c,i,l,o,u,d,b,j,h,v;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),s=m.current.value?m.current.value:e.name,n=O.current.value?O.current.value:e.surname,a=x.current.value?x.current.value:e.birth_date,c=f.current.value?f.current.value:e.email,i=_.current.value?_.current.value:e.password,l=N.current.value?N.current.value:e.phone,o=U.current.value?U.current.value:e.identity,u=w.current.value?w.current.value:e.passport_number,d={id:e.id,name:s,surname:n,birth_date:a,email:c,password:i,phone:l,identity:o,passport_number:u},k(),b=C(d),j=b.isValid,h=b.title,v=b.message,j){t.next=17;break}return p({title:h,message:v}),t.abrupt("return");case 17:e.sendUpdateRequest(d,e.id);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(d.jsx)("input",{type:"text",placeholder:e.name,ref:m}),D=Object(d.jsx)("input",{type:"text",placeholder:e.surname,ref:O}),I=Object(d.jsx)("input",{type:"date",ref:x}),P=Object(d.jsx)("input",{type:"email",placeholder:e.email,ref:f}),S=Object(d.jsx)("input",{type:"password",placeholder:"******",ref:_}),V=Object(d.jsx)("input",{type:"number",placeholder:e.phone,ref:N}),B=Object(d.jsxs)("select",{className:M.a.identity_field,id:"identity",ref:U,children:[Object(d.jsx)("option",{value:"ID",children:"ID"}),Object(d.jsx)("option",{value:"Passport",children:"Passport"})]}),E=Object(d.jsx)("input",{type:"number",placeholder:e.passport_number,ref:w});return Object(d.jsxs)("div",{className:M.a.details,children:[j&&Object(d.jsxs)("div",{className:M.a.error_box,children:[" ",Object(d.jsx)("div",{className:M.a.error_title,children:j.title}),Object(d.jsx)("div",{className:M.a.error_message,children:j.message})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Name: "}),Object(d.jsx)("p",{children:l?A:e.name})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Surname: "}),Object(d.jsx)("p",{children:l?D:e.surname})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Date of Birth: "}),Object(d.jsx)("p",{children:l?I:e.birth_date})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Email: "}),Object(d.jsx)("p",{children:l?P:e.email})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Password: "}),Object(d.jsx)("p",{children:l?S:"*****"})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Phone: "}),Object(d.jsx)("p",{children:l?V:e.phone})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Identity: "}),Object(d.jsx)("p",{children:l?B:e.identity})]}),Object(d.jsxs)("div",{className:M.a.flex,children:[Object(d.jsx)("p",{children:"Passport No: "}),Object(d.jsx)("p",{children:l?E:e.passport_number})]}),Object(d.jsxs)("div",{className:M.a.btnField,children:[Object(d.jsx)(a.b,{className:"btn ".concat(M.a.detailsBtn),to:"/ReactUsersApp/users",children:"Back"}),Object(d.jsx)("button",{className:"btn ".concat(M.a.detailsBtn),onClick:k,children:l?"Cancel editing":"Edit"}),l&&Object(d.jsx)("button",{className:"btn ".concat(M.a.detailsBtn),onClick:R,children:"Save"}),Object(d.jsx)("button",{className:"btn ".concat(M.a.detailsBtn),onClick:function(){Object(T.confirmAlert)({title:"Delete this user?",message:"",buttons:[{label:"Yes",onClick:function(){r.removeUser(e.id),t.push("/ReactUsersApp/users")}},{label:"No",onClick:function(){return""}}]})},children:"Delete User"})]})]})}),G=function(){var e=Object(i.useContext)(h),t=Object(c.i)().userId,r=e.persons.filter((function(e){return e.id.toString()===t.toString()}));return r[0].id?Object(d.jsx)(i.Fragment,{children:Object(d.jsx)(q,{id:t,name:r[0].name,surname:r[0].surname,birth_date:r[0].birth_date,email:r[0].email,password:r[0].password,phone:r[0].phone,identity:r[0].identity,passport_number:r[0].passport_number,sendUpdateRequest:function(t){e.editUser(t)}})}):Object(d.jsx)("p",{children:"No User found"})},W=r(29),Z=r.n(W),z=r(12),J=r.n(z),L=function(){return Object(d.jsxs)("header",{className:J.a.header,children:[Object(d.jsxs)("div",{className:J.a.logo,children:[Object(d.jsx)("span",{children:"Users Web App"}),Object(d.jsx)("a",{className:J.a.linkToGit,href:"https://github.com/GvidasGVD/ReactUsersApp/tree/master",target:"_blank",rel:"noopener noreferrer",children:"See code in GitHub"})]}),Object(d.jsx)("nav",{className:J.a.nav,children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.c,{to:"/ReactUsersApp/users",activeClassName:J.a.active,children:"All Users"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.c,{to:"/ReactUsersApp/new-user",activeClassName:J.a.active,children:"Add New User"})})]})})]})},$=function(e){return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(L,{}),Object(d.jsx)("main",{className:Z.a.main,children:e.children})]})},Q=function(){return Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("p",{children:"Page not found!"})})},Y=r(30),X={persons:[{id:"u1",name:"Tom",surname:"Riddle",birth_date:"1964-12-30",email:"tomriddle@gmail.com",password:"a4da6sd7",phone:8675554687,identity:"ID",passport_number:46787987},{id:"u2",name:"Rick",surname:"Wangog",birth_date:"1967-12-30",email:"Wangog@gmail.com",password:"asdasdasd",phone:45647784,identity:"ID",passport_number:7898457}]},K=function(e,t){if("ADD"===t.type){var r=e.persons.findIndex((function(e){return e.id===t.person.id}));return e.persons[r]||!t.person.id?(alert("Cannot add person, contact administrator"),e.persons):{persons:e.persons.concat(t.person)}}if("REMOVE"===t.type)return{persons:e.persons.filter((function(e){return e.id!==t.id}))};if("UPDATE"===t.type){var s,n=e.persons.findIndex((function(e){return e.id===t.data.id}));return n>=0?((s=Object(Y.a)(e.persons))[n]=t.data,{persons:s}):void alert("Something went wrong, contact administrator")}return X},ee=function(e){var t=Object(i.useReducer)(K,X),r=Object(g.a)(t,2),s=r[0],n=r[1],a={persons:s.persons,addUser:function(e){n({type:"ADD",person:e})},removeUser:function(e){n({type:"REMOVE",id:e})},editUser:function(e){n({type:"UPDATE",data:e})}};return Object(d.jsx)(h.Provider,{value:a,children:e.children})};var te=function(){return Object(d.jsx)(ee,{children:Object(d.jsx)($,{children:Object(d.jsxs)(c.d,{children:[Object(d.jsx)(c.b,{path:"/",exact:!0,children:Object(d.jsx)(c.a,{to:"/ReactUsersApp"})}),Object(d.jsx)(c.b,{path:"/ReactUsersApp",exact:!0,children:Object(d.jsx)(_,{})}),Object(d.jsx)(c.b,{path:"/ReactUsersApp/users/:userId",children:Object(d.jsx)(G,{})}),Object(d.jsx)(c.b,{path:"/ReactUsersApp/new-user",children:Object(d.jsx)(F,{})}),Object(d.jsx)(c.b,{path:"/ReactUsersApp/users",exact:!0,children:Object(d.jsx)(c.a,{to:"/ReactUsersApp"})}),Object(d.jsx)(c.b,{path:"*",children:Object(d.jsx)(Q,{})})]})})})};n.a.render(Object(d.jsx)(a.a,{children:Object(d.jsx)(te,{})}),document.getElementById("root"))},5:function(e,t,r){e.exports={details:"UserDetails_details__2Lhh9",flex:"UserDetails_flex__2siVv",btnField:"UserDetails_btnField__31p68",detailsBtn:"UserDetails_detailsBtn__1GNfu",passwordInput:"UserDetails_passwordInput__2vedh",error_box:"UserDetails_error_box__36td-",error_title:"UserDetails_error_title__1Wj1T",error_message:"UserDetails_error_message__2tvP_",identity_field:"UserDetails_identity_field__3tngV"}}},[[47,1,2]]]);
//# sourceMappingURL=main.44560d8e.chunk.js.map