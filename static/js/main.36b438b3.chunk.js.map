{"version":3,"sources":["components/layout/MainNavigation.module.css","components/users/UserList.module.css","components/users/UserItem.module.css","components/users/NoUserFound.module.css","components/ui/Card.module.css","components/layout/Layout.module.css","components/users/UserDetails.module.css","components/users/UserItem.js","userStorage/user-context.js","components/users/UserList.js","components/users/NoUserFound.js","pages/AllUsers.js","components/ui/Card.js","validations/FormDataValidation.js","hooks/use-input.js","components/users/NewUserForm.js","pages/NewUser.js","components/users/UserDetails.js","pages/UserDetail.js","components/layout/MainNavigation.js","components/layout/Layout.js","pages/NotFound.js","userStorage/UserHandler.js","App.js","index.js","components/users/NewUserForm.module.css"],"names":["module","exports","UserItem","props","className","classes","item","name","surname","phone","email","to","id","UserContext","React","createContext","persons","addUser","person","removeUser","editUser","data","UserList","users","ascending","userCtx","useContext","history","useHistory","location","useLocation","isSortingAscending","URLSearchParams","search","get","sortedUsers","sort","userA","userB","newUserHandler","userData","onInsertNewUser","sorting","onClick","push","pathname","list","map","user","NoUserFound","nousers","AllUsers","length","Card","card","children","regexOnlyLetters","regexEmail","validateUserData","birth_date","password","identity","passport_number","validation","title","message","isValid","validateOnlyLetters","inputData","test","trim","Date","validateEmail","useInput","validateValue","validateLength","validateType","useState","enteredValue","setEnteredValue","isTouched","setIsTouched","hasLengthError","setHasLengthError","hasTypeError","setHasTypeError","console","log","valueIsValid","hasError","useEffect","identifier","setTimeout","clearTimeout","value","valueChangeHandler","event","target","inputBlurHandler","NewUserForm","enteredName","nameInputHasError","nameInputHasLengthError","nameInputHasTypeError","nameChangeHandler","nameBlurHandler","nameInputRef","useRef","surnameInputRef","birthdateInputRef","emailInputRef","passwordInputRef","phoneInputRef","identityInputRef","passportnumberInputRef","error","setError","submitHandler","a","preventDefault","current","enteredSurname","enteredBirthdate","enteredEmail","enteredPassword","enteredPhone","enteredIdentity","enteredPassportnumber","Math","random","toFixed","toString","errorTitle","errorMessage","onAddUser","nameInputError","error_text","error_box","error_title","error_message","form","onSubmit","control","type","required","ref","placeholder","onChange","onBlur","htmlFor","defaultValue","actions","NewUser","UserDetails","editing","setEditing","editToggleUserHandler","submitEditingHandler","sendUpdateRequest","usersNameInput","usersSurnameInput","usersNameInBirthDateput","usersEmailInput","usersPasswordInput","usersPhoneInput","usersIdentityInput","identity_field","usersPassportNoInput","details","flex","btnField","detailsBtn","confirmAlert","buttons","label","UserDetail","userId","useParams","selectedUserData","filter","MainNavigation","header","logo","linkToGit","href","rel","nav","activeClassName","active","Layout","main","NotFound","defaultUserState","userReducer","state","action","existingPersonIndex","findIndex","alert","concat","updatedUsers","UserProvider","useReducer","userState","dispatchUserAction","userContext","Provider","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.36b438b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__1eTWp\",\"logo\":\"MainNavigation_logo__2S30C\",\"nav\":\"MainNavigation_nav__7QCTQ\",\"active\":\"MainNavigation_active__3RUWq\",\"linkToGit\":\"MainNavigation_linkToGit__3iPIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"UserList_list__28Q5_\",\"sorting\":\"UserList_sorting__aEAuP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"UserItem_item__zWGcH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nousers\":\"NoUserFound_nousers__3Z54F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1Z5RJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__3grmh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"UserDetails_details__2Lhh9\",\"flex\":\"UserDetails_flex__2siVv\",\"btnField\":\"UserDetails_btnField__31p68\",\"detailsBtn\":\"UserDetails_detailsBtn__1GNfu\",\"passwordInput\":\"UserDetails_passwordInput__2vedh\",\"error_box\":\"UserDetails_error_box__36td-\",\"error_title\":\"UserDetails_error_title__1Wj1T\",\"error_message\":\"UserDetails_error_message__2tvP_\",\"identity_field\":\"UserDetails_identity_field__3tngV\"};","import React from \"react\";\r\nimport classes from \"./UserItem.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserItem = (props) => {\r\n\r\n  return (\r\n    <li className={classes.item}>\r\n      <figure>\r\n        <blockquote>\r\n          <p>{props.name}</p>\r\n          <p>{props.surname}</p>\r\n        </blockquote>\r\n        <figcaption>Tel.: {props.phone}</figcaption>\r\n        <figcaption>Email: {props.email}</figcaption>\r\n      </figure>\r\n      <Link className=\"btn users_details_btn\" to={`/ReactUsersApp/users/${props.id}`}>\r\n        View Details\r\n      </Link>\r\n\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItem;\r\n","import React from \"react\";\r\n\r\nconst UserContext = React.createContext({\r\n  persons: [],\r\n  addUser: (person) => {},\r\n  removeUser: (id) => {},\r\n  editUser: (data) => {},\r\n});\r\n\r\nexport default UserContext;\r\n","import { Fragment, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport UserItem from \"./UserItem\";\r\nimport classes from \"./UserList.module.css\";\r\nimport UserContext from \"../../userStorage/user-context\";\r\nconst sortUsers = (users, ascending) => {\r\n  return users.sort((userA, userB) => {\r\n    if(ascending) {\r\n      return userA.name > userB.name ? 1: -1;\r\n    } else {\r\n      return userA.name < userB.name ? 1: -1;\r\n    }\r\n  })\r\n}\r\n\r\nconst UserList = (props) => {\r\n  const userCtx = useContext(UserContext);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n\r\n  const isSortingAscending = queryParams.get(\"sort\") === \"asc\";\r\n\r\n  const sortedUsers = sortUsers(userCtx.persons, isSortingAscending)\r\n\r\n\r\n  const changeSortingHandler = () => {\r\n    history.push({\r\n      pathname: location.pathname,\r\n      search: `?sort=${(isSortingAscending?'desc':'asc')}`\r\n    })\r\n  };\r\n\r\n  const newUserHandler = (userData) => {\r\n    props.onInsertNewUser(userData);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={classes.sorting}>\r\n        <button onClick={changeSortingHandler}>\r\n          Sort {isSortingAscending ? \"Descending\" : \"Ascending\"}\r\n        </button>\r\n      </div>\r\n      <ul className={classes.list}>\r\n        {sortedUsers.map((user) => (\r\n          <UserItem\r\n            key={user.id}\r\n            id={user.id}\r\n            name={user.name}\r\n            surname={user.surname}\r\n            phone={user.phone}\r\n            email={user.email}\r\n            onInsertNewUser={newUserHandler}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import classes from './NoUserFound.module.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst NoUserFound = () => {\r\n  return (\r\n    <div className={classes.nousers}>\r\n      <p>No users found!</p>\r\n      <Link className='btn' to='/ReactUsersApp/new-user'>\r\n        Add New User\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoUserFound;\r\n","import React, { useContext } from \"react\";\r\nimport UserList from \"../components/users/UserList\";\r\n// import useHttp from \"../hooks/use-http\";\r\n// import { getAllUsers } from \"../api/userApi\";\r\nimport NoUsersFound from \"../components/users/NoUserFound\";\r\nimport UserContext from \"../userStorage/user-context\";\r\n\r\nconst AllUsers = () => {\r\n  const userCtx = useContext(UserContext);\r\n  // const {\r\n  //   sendRequest,\r\n  //   status,\r\n  //   data: loadedUsers,\r\n  //   error,\r\n  // } = useHttp(getAllUsers, true);\r\n\r\n  // useEffect(() => {\r\n  //   sendRequest();\r\n  // }, [sendRequest]);\r\n\r\n  // if (status === \"pending\") {\r\n  //   return <div className=\"centered\"> Loading...</div>;\r\n  // }\r\n\r\n  // if (error) {\r\n  //   return <p className=\"centered focused\">{error}</p>;\r\n  // }\r\n\r\n    if (userCtx.persons.length === 0) {\r\n    return <NoUsersFound />;\r\n  }\r\n \r\n  return <UserList \r\n  // users={users} \r\n  // onInsertNewUser={addUserHandler}\r\n  />;\r\n};\r\n\r\nexport default AllUsers;\r\n","import classes from './Card.module.css';\r\n\r\nfunction Card(props) {\r\n  return <div className={classes.card}>{props.children}</div>;\r\n}\r\n\r\nexport default Card;\r\n","\r\n  const regexOnlyLetters = /^[a-zA-Z].*[\\s\\.]*$/;\r\n  const regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nexport function validateUserData(userData) {\r\n  const {\r\n    name,\r\n    surname,\r\n    birth_date,\r\n    email,\r\n    password,\r\n    phone,\r\n    identity,\r\n    passport_number,\r\n  } = userData;\r\n  var validation = { title: \"\", message: \"\", isValid: true };\r\n\r\n  const validateOnlyLetters = (inputData) => {\r\n    return regexOnlyLetters.test(inputData)\r\n  };\r\n  if (\r\n    name.trim().length === 0 ||\r\n    surname.trim().length === 0 ||\r\n    birth_date.trim().length === 0 ||\r\n    email.trim().length === 0 ||\r\n    password.trim().length === 0 ||\r\n    identity.trim().length === 0 \r\n  ) {\r\n    validation = {\r\n      title: \"Invalid input\",\r\n      message: \"Cannot insert empty values.\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (name.length < 2 || name.length > 20 || !validateOnlyLetters(name)) {\r\n    validation = {\r\n      title: \"Invalid Name\",\r\n      message:\r\n        \"Name should be at least 2 symbols and not more than 20 symbols. Only letters allowed\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (surname.length < 2 || surname.length > 20 || !validateOnlyLetters(surname)) {\r\n    validation = {\r\n      title: \"Invalid Surname\",\r\n      message:\r\n        \"Surname should be at least 2 symbols and not more than 20 symbols. Only letters allowed\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (password.length < 6 || password.length > 15) {\r\n    validation = {\r\n      title: \"Invalid Password\",\r\n      message: \"Should be at least 6 symbols but not more than 15 symbols\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (phone.length < 5 || phone.length > 13) {\r\n    validation = {\r\n      title: \"Invalid Phone number\",\r\n      message: \"Should be at least 5 but not more than 13 digits \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (identity !== \"ID\" && identity !== \"Passport\") {\r\n    validation = {\r\n      title: \"Identity error\",\r\n      message: \"Only ID or Passport can be chosen \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (passport_number.length < 5 || passport_number.length > 9) {\r\n    validation = {\r\n      title: \"Invalid Passport number\",\r\n      message: \"Should be at least 5 but not more than 9 digits \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (new Date(birth_date) > new Date()) {\r\n    validation = {\r\n      title: \"Invalid Date of Birth\",\r\n      message: \"Please insert valid date of birth\",\r\n      isValid: false,\r\n    };\r\n  }\r\n  const validateEmail = (email) => {\r\n    return regexEmail.test(email);\r\n  };\r\n  if (!validateEmail(email) || email.length > 50) {\r\n    validation = {\r\n      title: \"Invalid Email format\",\r\n      message: \"Please check if email format is correct\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  return validation;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useInput = (validateValue, validateLength, validateType) => {\r\n  const [enteredValue, setEnteredValue] = useState(\"\");\r\n  const [isTouched, setIsTouched] = useState(false);\r\n  const [hasLengthError, setHasLengthError] = useState(false);\r\n  const [hasTypeError, setHasTypeError] = useState(false);\r\n  console.log(hasLengthError);\r\n  const valueIsValid = validateValue(enteredValue);\r\n  //   const valueLengthIsValid = '';\r\n  const hasError = !valueIsValid && isTouched;\r\n\r\n  const valueChangeHandler = (event) => {\r\n    setEnteredValue(event.target.value);\r\n  };\r\n\r\n  const inputBlurHandler = () => {\r\n    setIsTouched(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const identifier = setTimeout(() => {\r\n      if (!validateLength(enteredValue) && isTouched) {\r\n        setHasLengthError(true);\r\n      } else {\r\n        setHasLengthError(false);\r\n      }\r\n\r\n      if (!validateType(enteredValue) && isTouched) {\r\n        setHasTypeError(true);\r\n      } else {\r\n        setHasTypeError(false);\r\n      }\r\n    }, 500);\r\n\r\n    return () => {\r\n      clearTimeout(identifier);\r\n    };\r\n  }, [enteredValue, isTouched, validateLength]);\r\n\r\n  return {\r\n    value: enteredValue,\r\n    hasError,\r\n    hasLengthError,\r\n    hasTypeError,\r\n    isValid: valueIsValid,\r\n    valueChangeHandler,\r\n    inputBlurHandler,\r\n  };\r\n};\r\n\r\nexport default useInput;\r\n","import { useRef, useState } from \"react\";\r\n// import { userSchema } from \"../../validations/UserValidation\";\r\nimport Card from \"../ui/Card\";\r\nimport classes from \"./NewUserForm.module.css\";\r\nimport { validateUserData } from \"../../validations/FormDataValidation\";\r\nimport useInput from \"../../hooks/use-input\";\r\n\r\nconst regexOnlyLetters = /^[a-zA-Z].*[\\s\\.]*$/;\r\nconst NewUserForm = (props) => {\r\n  const {\r\n    value: enteredName,\r\n    isValid: enteredNameIsValid,\r\n    hasError: nameInputHasError,\r\n    hasLengthError: nameInputHasLengthError,\r\n    hasTypeError: nameInputHasTypeError,\r\n    valueChangeHandler: nameChangeHandler,\r\n    inputBlurHandler: nameBlurHandler,\r\n  } = useInput(\r\n    (value) => value.trim() !== \"\",\r\n    (value) => value.length >= 2 && value.length <= 20,\r\n    (value) => regexOnlyLetters.test(value)\r\n  );\r\n\r\n  const nameInputRef = useRef();\r\n  const surnameInputRef = useRef();\r\n  const birthdateInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const identityInputRef = useRef();\r\n  const passportnumberInputRef = useRef();\r\n  const [error, setError] = useState();\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredSurname = surnameInputRef.current.value;\r\n    const enteredBirthdate = birthdateInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    const enteredPhone = phoneInputRef.current.value;\r\n    const enteredIdentity = identityInputRef.current.value;\r\n    const enteredPassportnumber = passportnumberInputRef.current.value;\r\n\r\n    const userData = {\r\n      id: \"u\" + (Math.random() * 1000000).toFixed().toString(),\r\n      name: enteredName,\r\n      surname: enteredSurname,\r\n      birth_date: enteredBirthdate,\r\n      email: enteredEmail,\r\n      password: enteredPassword,\r\n      phone: enteredPhone,\r\n      identity: enteredIdentity,\r\n      passport_number: enteredPassportnumber,\r\n    };\r\n    const {\r\n      isValid,\r\n      title: errorTitle,\r\n      message: errorMessage,\r\n    } = validateUserData(userData);\r\n\r\n    if (!isValid) {\r\n      setError({\r\n        title: errorTitle,\r\n        message: errorMessage,\r\n      });\r\n      return;\r\n    } else {\r\n      props.onAddUser(userData);\r\n    }\r\n    // const isValid = await userSchema.isValid(userData);\r\n    // if (isValid) {\r\n    //   props.onAddUser(userData);\r\n    // } else {\r\n    //   alert(\"Could not create, wrong values inserted\");\r\n    // }\r\n  };\r\n\r\n  var nameInputError = nameInputHasError ? (\r\n    <p className={classes.error_text}>Name must not be empty.</p>\r\n  ) : nameInputHasLengthError ? (\r\n    <p className={classes.error_text}>\r\n      At least 2 but not more than 20 letters.\r\n    </p>\r\n  ) : nameInputHasTypeError ? (\r\n    <p className={classes.error_text}>Only letters allowed.</p>\r\n  ) : null;\r\n  return (\r\n    <Card>\r\n      {error && (\r\n        <div className={classes.error_box}>\r\n          {\" \"}\r\n          <div className={classes.error_title}>{error.title}</div>\r\n          <div className={classes.error_message}>{error.message}</div>\r\n        </div>\r\n      )}\r\n      <form className={classes.form} onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              id=\"Name\"\r\n              ref={nameInputRef}\r\n              placeholder=\"Name\"\r\n              title=\"Name\"\r\n              value={enteredName}\r\n              onChange={nameChangeHandler}\r\n              onBlur={nameBlurHandler}\r\n            />\r\n            {nameInputError}\r\n          </div>\r\n\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              id=\"Surname\"\r\n              ref={surnameInputRef}\r\n              placeholder=\"Surname\"\r\n              title=\"Surname\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              required\r\n              ref={emailInputRef}\r\n              placeholder=\"Email\"\r\n              title=\"Email\"\r\n            ></input>\r\n          </div>\r\n          <div>\r\n            <input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              required\r\n              ref={passwordInputRef}\r\n              placeholder=\"Password\"\r\n              title=\"Password\"\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <input\r\n              id=\"phone\"\r\n              type=\"number\"\r\n              ref={phoneInputRef}\r\n              placeholder=\"Phone\"\r\n              title=\"Phone\"\r\n            ></input>\r\n          </div>\r\n          <div>\r\n            <input\r\n              id=\"passportnumber\"\r\n              type=\"number\"\r\n              ref={passportnumberInputRef}\r\n              placeholder=\"Passport/ID number\"\r\n              title=\"Passport/ID number\"\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <label htmlFor=\"identity\">Identity</label>\r\n            <select id=\"identity\" ref={identityInputRef}>\r\n              <option value=\"ID\" defaultValue>\r\n                ID\r\n              </option>\r\n              <option value=\"Passport\">Passport</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"birthdate\">Birth Date</label>\r\n            <input type=\"date\" id=\"birthdate\" ref={birthdateInputRef} />\r\n          </div>\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <button>Add User</button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default NewUserForm;\r\n","import { useHistory } from \"react-router-dom\";\r\nimport React, { useContext } from \"react\";\r\nimport NewUserForm from \"../components/users/NewUserForm\";\r\n// import useHttp from '../hooks/use-http';\r\n// import { addUser } from '../api/userApi';\r\nimport UserContext from \"../userStorage/user-context\";\r\n\r\nconst NewUser = () => {\r\n  // const { sendRequest, status} = useHttp(addUser);\r\n  const history = useHistory();\r\n  const userCtx = useContext(UserContext);\r\n  // useEffect(() => {\r\n  //     if(status === 'completed') {\r\n  //         history.push('/users')\r\n  //     }\r\n  // }, [status, history])\r\n\r\n  const addUserHandler = (userData) => {\r\n    userCtx.addUser(userData);\r\n    history.push(\"/ReactUsersApp/users\");\r\n    // sendRequest(userData)\r\n  };\r\n  return <NewUserForm onAddUser={addUserHandler} />;\r\n};\r\n\r\nexport default NewUser;\r\n","import classes from \"./UserDetails.module.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport React, { useState, useRef, useContext } from \"react\";\r\n// import useHttp from \"../../hooks/use-http\";\r\n// import { deleteUser } from \"../../api/userApi\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n// import { userSchema } from \"../../validations/UserValidation\";\r\nimport UserContext from \"../../userStorage/user-context\";\r\nimport { validateUserData } from \"../../validations/FormDataValidation\";\r\n\r\nconst UserDetails = (props) => {\r\n  const history = useHistory();\r\n  const userCtx = useContext(UserContext);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  // const { sendRequest: sendtDeleteRequest, status: deleteStatus } = useHttp(\r\n  //   deleteUser,\r\n  //   true\r\n  // );\r\n\r\n  const nameInputRef = useRef();\r\n  const surnameInputRef = useRef();\r\n  const birthdateInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const identityInputRef = useRef();\r\n  const passportnumberInputRef = useRef();\r\n  const deleteUserHandler = () => {\r\n    confirmAlert({\r\n      title: \"Delete this user?\",\r\n      message: \"\",\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => {\r\n            userCtx.removeUser(props.id);\r\n            history.push(\"/ReactUsersApp/users\");\r\n          },\r\n        },\r\n        {\r\n          label: \"No\",\r\n          onClick: () => \"\",\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (deleteStatus === \"completed\") {\r\n  // history.push(\"/users\");\r\n  //   }\r\n  // }, [deleteStatus, history]);\r\n\r\n  const editToggleUserHandler = () => {\r\n    setEditing(!editing);\r\n  };\r\n\r\n  const submitEditingHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value\r\n      ? nameInputRef.current.value\r\n      : props.name;\r\n    const enteredSurname = surnameInputRef.current.value\r\n      ? surnameInputRef.current.value\r\n      : props.surname;\r\n    const enteredBirthdate = birthdateInputRef.current.value\r\n      ? birthdateInputRef.current.value\r\n      : props.birth_date;\r\n    const enteredEmail = emailInputRef.current.value\r\n      ? emailInputRef.current.value\r\n      : props.email;\r\n    const enteredPassword = passwordInputRef.current.value\r\n      ? passwordInputRef.current.value\r\n      : props.password;\r\n    const enteredPhone = phoneInputRef.current.value\r\n      ? phoneInputRef.current.value\r\n      : props.phone;\r\n    const enteredIdentity = identityInputRef.current.value\r\n      ? identityInputRef.current.value\r\n      : props.identity;\r\n    const enteredPassportnumber = passportnumberInputRef.current.value\r\n      ? passportnumberInputRef.current.value\r\n      : props.passport_number;\r\n\r\n    const userData = {\r\n      id: props.id,\r\n      name: enteredName,\r\n      surname: enteredSurname,\r\n      birth_date: enteredBirthdate,\r\n      email: enteredEmail,\r\n      password: enteredPassword,\r\n      phone: enteredPhone,\r\n      identity: enteredIdentity,\r\n      passport_number: enteredPassportnumber,\r\n    };\r\n    editToggleUserHandler();\r\n    const {\r\n      isValid,\r\n      title: errorTitle,\r\n      message: errorMessage,\r\n    } = validateUserData(userData);\r\n\r\n    if (!isValid) {\r\n      setError({\r\n        title: errorTitle,\r\n        message: errorMessage,\r\n      });\r\n      return;\r\n    } else {\r\n      props.sendUpdateRequest(userData, props.id);\r\n    }\r\n    // const isValid = await userSchema.isValid(userData);\r\n    // if (isValid) {\r\n    //   props.sendUpdateRequest(userData);\r\n    // } else {\r\n    //   alert(\"Could not update, wrong values inserted\");\r\n    // }\r\n  };\r\n\r\n  const usersNameInput = (\r\n    <input type=\"text\" placeholder={props.name} ref={nameInputRef} />\r\n  );\r\n  const usersSurnameInput = (\r\n    <input type=\"text\" placeholder={props.surname} ref={surnameInputRef} />\r\n  );\r\n  const usersNameInBirthDateput = <input type=\"date\" ref={birthdateInputRef} />;\r\n  const usersEmailInput = (\r\n    <input type=\"email\" placeholder={props.email} ref={emailInputRef} />\r\n  );\r\n  const usersPasswordInput = (\r\n    <input type=\"password\" placeholder=\"******\" ref={passwordInputRef} />\r\n  );\r\n  const usersPhoneInput = (\r\n    <input type=\"number\" placeholder={props.phone} ref={phoneInputRef} />\r\n  );\r\n  const usersIdentityInput = (\r\n    <select className={classes.identity_field} id=\"identity\" ref={identityInputRef}>\r\n    <option value=\"ID\">\r\n      ID\r\n    </option>\r\n    <option value=\"Passport\">Passport</option>\r\n  </select>\r\n  );\r\n  const usersPassportNoInput = (\r\n    <input\r\n      type=\"number\"\r\n      placeholder={props.passport_number}\r\n      ref={passportnumberInputRef}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className={classes.details}>\r\n      {error && (\r\n        <div className={classes.error_box}>\r\n          {\" \"}\r\n          <div className={classes.error_title}>{error.title}</div>\r\n          <div className={classes.error_message}>{error.message}</div>\r\n        </div>\r\n      )}\r\n      <div className={classes.flex}>\r\n        <p>Name: </p>\r\n        <p>{!editing ? props.name : usersNameInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Surname: </p>\r\n        <p>{!editing ? props.surname : usersSurnameInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Date of Birth: </p>\r\n        <p>{!editing ? props.birth_date : usersNameInBirthDateput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Email: </p>\r\n        <p>{!editing ? props.email : usersEmailInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Password: </p>\r\n        <p>{!editing ? \"*****\" : usersPasswordInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Phone: </p>\r\n        <p>{!editing ? props.phone : usersPhoneInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Identity: </p>\r\n        <p>{!editing ? props.identity : usersIdentityInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Passport No: </p>\r\n        <p>{!editing ? props.passport_number : usersPassportNoInput}</p>\r\n      </div>\r\n      <div className={classes.btnField}>\r\n        <Link\r\n          className={`btn ${classes.detailsBtn}`}\r\n          to={\"/ReactUsersApp/users\"}\r\n        >\r\n          Back\r\n        </Link>\r\n        <button\r\n          className={`btn ${classes.detailsBtn}`}\r\n          onClick={editToggleUserHandler}\r\n        >\r\n          {!editing ? \"Edit\" : \"Cancel editing\"}\r\n        </button>\r\n        {editing && (\r\n          <button\r\n            className={`btn ${classes.detailsBtn}`}\r\n            onClick={submitEditingHandler}\r\n          >\r\n            Save\r\n          </button>\r\n        )}\r\n        <button\r\n          className={`btn ${classes.detailsBtn}`}\r\n          onClick={deleteUserHandler}\r\n        >\r\n          Delete User\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDetails;\r\n","import { Fragment, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n// import useHttp from \"../hooks/use-http\";\r\n// import { updateUser } from \"../api/userApi\";\r\nimport UserDetails from \"../components/users/UserDetails\";\r\nimport UserContext from \"../userStorage/user-context\";\r\n\r\n\r\n\r\nconst UserDetail = () => {\r\n  const userCtx = useContext(UserContext);\r\n\r\n\r\n\r\n  const params = useParams();\r\n  // const { sendRequest: sendtUpdateRequest, status: updateStatus } = useHttp(updateUser, true);\r\n\r\n  const { userId } = params;\r\n  const selectedUserData = userCtx.persons.filter(user => {\r\n    return user.id.toString() === userId.toString();\r\n  })\r\n\r\n  // const {\r\n  //   sendRequest,\r\n  //   status,\r\n  //   data: loadedUser,\r\n  //   error,\r\n  // } = useHttp(getSingleUser, true);\r\n\r\n  // useEffect(() => {\r\n  //     sendRequest(userId);\r\n\r\n  // }, [sendRequest,updateStatus, userId]);\r\n\r\n  const sendtUpdateRequestHandler = (userData) => {\r\n    userCtx.editUser(userData)\r\n    // sendtUpdateRequest(data, userId);\r\n  }\r\n\r\n  // if (status === \"pending\") {\r\n  //   return <div className=\"centered\"> Loading...</div>;\r\n  // }\r\n\r\n  // if (error) {\r\n  //   return <p className=\"centered focused\">{error}</p>;\r\n  // }\r\n\r\n  if (!selectedUserData[0].id) {\r\n    return <p>No User found</p>;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <UserDetails\r\n              id={userId}\r\n              name={selectedUserData[0].name}\r\n              surname={selectedUserData[0].surname}\r\n              birth_date={selectedUserData[0].birth_date}\r\n              email={selectedUserData[0].email}\r\n              password={selectedUserData[0].password}\r\n              phone={selectedUserData[0].phone}\r\n              identity={selectedUserData[0].identity}\r\n              passport_number={selectedUserData[0].passport_number}\r\n              sendUpdateRequest={sendtUpdateRequestHandler}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserDetail;\r\n","import React from \"react\";\r\nimport classes from \"./MainNavigation.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst MainNavigation = () => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.logo}>\r\n        <span>Users Web App</span>\r\n        <a\r\n        className={classes.linkToGit}\r\n          href=\"https://github.com/GvidasGVD/ReactUsersApp/tree/master\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          See code in GitHub\r\n        </a>\r\n      </div>\r\n      <nav className={classes.nav}>\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/ReactUsersApp/users\" activeClassName={classes.active}>\r\n              All Users\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/ReactUsersApp/new-user\" activeClassName={classes.active}>\r\n              Add New User\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import { Fragment} from 'react'\r\nimport classes from './Layout.module.css';\r\nimport MainNavigation from './MainNavigation';\r\n\r\nconst Layout = (props) => {\r\n    return (\r\n        <Fragment>\r\n            <MainNavigation />\r\n            <main className={classes.main}>{props.children}</main>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className='centered'>\r\n            <p>Page not found!</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from \"react\";\r\nimport UserContext from \"./user-context\";\r\n\r\nimport { useReducer } from \"react\";\r\n\r\nconst defaultUserState = {\r\n  persons: [\r\n    {\r\n      id: \"u1\",\r\n      name: \"Tom\",\r\n      surname: \"Riddle\",\r\n      birth_date: \"1964-12-30\",\r\n      email: \"tomriddle@gmail.com\",\r\n      password: \"a4da6sd7\",\r\n      phone: 8675554687,\r\n      identity: 45,\r\n      passport_number: 46787987,\r\n    },\r\n    {\r\n      id: \"u2\",\r\n      name: \"Rick\",\r\n      surname: \"Wangog\",\r\n      birth_date: \"1967-12-30\",\r\n      email: \"Wangog@gmail.com\",\r\n      password: \"asdasdasd\",\r\n      phone: 45647784,\r\n      identity: 456,\r\n      passport_number: 7898457,\r\n    },\r\n  ],\r\n};\r\n\r\nconst userReducer = (state, action) => {\r\n  if (action.type === \"ADD\") {\r\n    const existingPersonIndex = state.persons.findIndex(\r\n      (person) => person.id === action.person.id\r\n    );\r\n\r\n    const existingUserItem = state.persons[existingPersonIndex];\r\n\r\n    let updatedUsers;\r\n    if (existingUserItem || !action.person.id) {\r\n      alert(\"Cannot add person, contact administrator\");\r\n      return state.persons;\r\n    } else {\r\n      updatedUsers = state.persons.concat(action.person);\r\n    }\r\n    return {\r\n      persons: updatedUsers,\r\n    };\r\n  }\r\n  if (action.type === \"REMOVE\") {\r\n    let updatedUsers;\r\n    updatedUsers = state.persons.filter((person) => person.id !== action.id);\r\n\r\n    return {\r\n      persons: updatedUsers,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"UPDATE\") {\r\n    const existingPersonIndex = state.persons.findIndex(\r\n      (person) => person.id === action.data.id\r\n    );\r\n    if (existingPersonIndex >= 0) {\r\n      let updatedUsers;\r\n      updatedUsers = [...state.persons];\r\n      updatedUsers[existingPersonIndex] = action.data;\r\n      return { persons: updatedUsers };\r\n    } else {\r\n      alert(\"Something went wrong, contact administrator\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  return defaultUserState;\r\n};\r\n\r\nconst UserProvider = (props) => {\r\n  const [userState, dispatchUserAction] = useReducer(\r\n    userReducer,\r\n    defaultUserState\r\n  );\r\n\r\n  const addPersonToUsersHandler = (person) => {\r\n    dispatchUserAction({ type: \"ADD\", person: person });\r\n  };\r\n  const removePersonFromUsersHandler = (id) => {\r\n    dispatchUserAction({ type: \"REMOVE\", id: id });\r\n  };\r\n\r\n  const updateUserHandler = (data) => {\r\n    dispatchUserAction({ type: \"UPDATE\", data: data });\r\n  };\r\n\r\n  const userContext = {\r\n    persons: userState.persons,\r\n    addUser: addPersonToUsersHandler,\r\n    removeUser: removePersonFromUsersHandler,\r\n    editUser: updateUserHandler,\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={userContext}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserProvider;\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport AllUsers from \"./pages/AllUsers\";\nimport NewUser from \"./pages/NewUser\";\nimport UserDetail from \"./pages/UserDetail\";\nimport Layout from \"./components/layout/Layout\";\nimport NotFound from \"./pages/NotFound\";\nimport UserProvider from \"./userStorage/UserHandler\";\n\nfunction App() {\n  return (\n    <UserProvider>\n      <Layout>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/ReactUsersApp\" />\n          </Route>\n          <Route path=\"/ReactUsersApp\" exact>\n            <AllUsers />\n          </Route>\n          <Route path=\"/ReactUsersApp/users/:userId\">\n            <UserDetail />\n          </Route>\n          <Route path=\"/ReactUsersApp/new-user\">\n            <NewUser />\n          </Route>\n          <Route path=\"/ReactUsersApp/users\" exact>\n            <Redirect to=\"/ReactUsersApp\" />\n          </Route>\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n        </Switch>\n      </Layout>\n    </UserProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewUserForm_form__Rx8fj\",\"control\":\"NewUserForm_control__3gtAJ\",\"actions\":\"NewUserForm_actions__Ubfh9\",\"error_box\":\"NewUserForm_error_box__15SWX\",\"error_title\":\"NewUserForm_error_title__1bJSt\",\"error_message\":\"NewUserForm_error_message__N5qno\",\"error_text\":\"NewUserForm_error_text__2bEVh\"};"],"sourceRoot":""}