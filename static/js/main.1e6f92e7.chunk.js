(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{12:function(e,t,s){e.exports={header:"MainNavigation_header__1eTWp",logo:"MainNavigation_logo__2S30C",nav:"MainNavigation_nav__7QCTQ",active:"MainNavigation_active__3RUWq",linkToGit:"MainNavigation_linkToGit__3iPIP"}},22:function(e,t,s){e.exports={list:"UserList_list__28Q5_",sorting:"UserList_sorting__aEAuP"}},23:function(e,t,s){e.exports={item:"UserItem_item__zWGcH"}},26:function(e,t,s){e.exports={nousers:"NoUserFound_nousers__3Z54F"}},27:function(e,t,s){e.exports={card:"Card_card__1Z5RJ"}},29:function(e,t,s){e.exports={main:"Layout_main__3grmh"}},35:function(e,t,s){},4:function(e,t,s){e.exports={details:"UserDetails_details__2Lhh9",flex:"UserDetails_flex__2siVv",btnField:"UserDetails_btnField__31p68",detailsBtn:"UserDetails_detailsBtn__1GNfu",passwordInput:"UserDetails_passwordInput__2vedh",error_box:"UserDetails_error_box__36td-",error_title:"UserDetails_error_title__1Wj1T",error_message:"UserDetails_error_message__2tvP_"}},47:function(e,t,s){"use strict";s.r(t);var r=s(20),n=s.n(r),a=s(5),i=(s(35),s(2)),c=s(1),l=s.n(c),o=s(23),d=s.n(o),j=s(0),u=function(e){return Object(j.jsxs)("li",{className:d.a.item,children:[Object(j.jsxs)("figure",{children:[Object(j.jsxs)("blockquote",{children:[Object(j.jsx)("p",{children:e.name}),Object(j.jsx)("p",{children:e.surname})]}),Object(j.jsxs)("figcaption",{children:["Tel.: ",e.phone]}),Object(j.jsxs)("figcaption",{children:["Email: ",e.email]})]}),Object(j.jsx)(a.b,{className:"btn users_details_btn",to:"/ReactUsersApp/users/".concat(e.id),children:"View Details"})]})},b=s(22),p=s.n(b),h=l.a.createContext({persons:[],addUser:function(e){},removeUser:function(e){},editUser:function(e){}}),m=function(e){var t,s,r=Object(c.useContext)(h),n=Object(i.g)(),a=Object(i.h)(),l="asc"===new URLSearchParams(a.search).get("sort"),o=(t=r.persons,s=l,t.sort((function(e,t){return s?e.name>t.name?1:-1:e.name<t.name?1:-1}))),d=function(t){e.onInsertNewUser(t)};return Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)("div",{className:p.a.sorting,children:Object(j.jsxs)("button",{onClick:function(){n.push({pathname:a.pathname,search:"?sort=".concat(l?"desc":"asc")})},children:["Sort ",l?"Descending":"Ascending"]})}),Object(j.jsx)("ul",{className:p.a.list,children:o.map((function(e){return Object(j.jsx)(u,{id:e.id,name:e.name,surname:e.surname,phone:e.phone,email:e.email,onInsertNewUser:d},e.id)}))})]})},x=s(26),O=s.n(x),f=function(){return Object(j.jsxs)("div",{className:O.a.nousers,children:[Object(j.jsx)("p",{children:"No users found!"}),Object(j.jsx)(a.b,{className:"btn",to:"/ReactUsersApp/new-user",children:"Add New User"})]})},v=function(){return 0===Object(c.useContext)(h).persons.length?Object(j.jsx)(f,{}):Object(j.jsx)(m,{})},_=s(16),g=s(10),N=s(14),U=s.n(N),y=s(27),w=s.n(y);var R=function(e){return Object(j.jsx)("div",{className:w.a.card,children:e.children})},A=s(9),D=s.n(A),I=/^[a-zA-Z]{2,20}$/,P=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function S(e){var t=e.name,s=e.surname,r=e.birth_date,n=e.email,a=e.password,i=e.phone,c=e.identity,l=e.passport_number,o={title:"",message:"",isValid:!0},d=function(e){return I.test(e)};0!==t.trim().length&&0!==s.trim().length&&0!==r.trim().length&&0!==n.trim().length&&0!==a.trim().length&&0!==c.trim().length||(o={title:"Invalid input",message:"Cannot insert empty values.",isValid:!1}),(t.length<2||t.length>20||!d(t))&&(o={title:"Invalid Name",message:"Name should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(s.length<2||s.length>20||!d(s))&&(o={title:"Invalid Surname",message:"Surname should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(a.length<6||a.length>15)&&(o={title:"Invalid Password",message:"Should be at least 6 symbols but not more than 15 symbols",isValid:!1}),(i.length<5||i.length>13)&&(o={title:"Invalid Phone number",message:"Should be at least 5 but not more than 13 digits ",isValid:!1}),"ID"!==c&&"Passport"!==c&&(o={title:"Identity error",message:"Only ID or Passport can be chosen ",isValid:!1}),(l.length<5||l.length>9)&&(o={title:"Invalid Passport number",message:"Should be at least 5 but not more than 9 digits ",isValid:!1}),new Date(r)>new Date&&(o={title:"Invalid Date of Birth",message:"Please insert valid date of birth",isValid:!1});return(!function(e){return P.test(e)}(n)||n.length>50)&&(o={title:"Invalid Email format",message:"Please check if email format is correct",isValid:!1}),o}var F=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useRef)(),l=Object(c.useRef)(),o=Object(c.useRef)(),d=Object(c.useState)(),u=Object(g.a)(d,2),b=u[0],p=u[1],h=function(){var c=Object(_.a)(U.a.mark((function c(d){var j,u,b,h,m,x,O,f,v,_,g,N,y;return U.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(d.preventDefault(),j=t.current.value,u=s.current.value,b=r.current.value,h=n.current.value,m=a.current.value,x=i.current.value,O=l.current.value,f=o.current.value,v={id:"u"+(1e6*Math.random()).toFixed().toString(),name:j,surname:u,birth_date:b,email:h,password:m,phone:x,identity:O,passport_number:f},_=S(v),g=_.isValid,N=_.title,y=_.message,g){c.next=16;break}return p({title:N,message:y}),c.abrupt("return");case 16:e.onAddUser(v);case 17:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(j.jsxs)(R,{children:[b&&Object(j.jsxs)("div",{className:D.a.error_box,children:[" ",Object(j.jsx)("div",{className:D.a.error_title,children:b.title}),Object(j.jsx)("div",{className:D.a.error_message,children:b.message})]}),Object(j.jsxs)("form",{className:D.a.form,onSubmit:h,children:[Object(j.jsxs)("div",{className:D.a.control,children:[Object(j.jsxs)("div",{className:"w-50",children:[Object(j.jsx)("label",{htmlFor:"Name",children:"Name"}),Object(j.jsx)("input",{type:"text",required:!0,id:"Name",ref:t})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"Surname",children:"Surname"}),Object(j.jsx)("input",{type:"text",required:!0,id:"Surname",ref:s})]})]}),Object(j.jsxs)("div",{className:D.a.control,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"birthdate",children:"Birth Date"}),Object(j.jsx)("input",{type:"date",required:!0,id:"birthdate",ref:r})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{id:"email",type:"email",required:!0,ref:n})]})]}),Object(j.jsxs)("div",{className:D.a.control,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{id:"password",type:"password",required:!0,ref:a})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(j.jsx)("input",{id:"phone",type:"number",required:!0,ref:i})]})]}),Object(j.jsxs)("div",{className:D.a.control,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"identity",children:"Identity"}),Object(j.jsxs)("select",{id:"identity",ref:l,required:!0,children:[Object(j.jsx)("option",{value:"ID",defaultValue:!0,children:"ID"}),Object(j.jsx)("option",{value:"Passport",children:"Passport"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"passportnumber",children:"Passport Number"}),Object(j.jsx)("input",{id:"passportnumber",type:"number",required:!0,ref:o})]})]}),Object(j.jsx)("div",{className:D.a.actions,children:Object(j.jsx)("button",{children:"Add User"})})]})]})},k=function(){var e=Object(i.g)(),t=Object(c.useContext)(h);return Object(j.jsx)(F,{onAddUser:function(s){t.addUser(s),e.push("/ReactUsersApp/users")}})},C=s(4),V=s.n(C),q=s(28),E=(s(46),function(e){var t=Object(i.g)(),s=Object(c.useContext)(h),r=Object(c.useState)(!1),n=Object(g.a)(r,2),l=n[0],o=n[1],d=Object(c.useState)(),u=Object(g.a)(d,2),b=u[0],p=u[1],m=Object(c.useRef)(),x=Object(c.useRef)(),O=Object(c.useRef)(),f=Object(c.useRef)(),v=Object(c.useRef)(),N=Object(c.useRef)(),y=Object(c.useRef)(),w=Object(c.useRef)(),R=function(){o(!l)},A=function(){var t=Object(_.a)(U.a.mark((function t(s){var r,n,a,i,c,l,o,d,j,u,b,h,_;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),r=m.current.value?m.current.value:e.name,n=x.current.value?x.current.value:e.surname,a=O.current.value?O.current.value:e.birth_date,i=f.current.value?f.current.value:e.email,c=v.current.value?v.current.value:e.password,l=N.current.value?N.current.value:e.phone,o=y.current.value?y.current.value:e.identity,d=w.current.value?w.current.value:e.passport_number,j={id:e.id,name:r,surname:n,birth_date:a,email:i,password:c,phone:l,identity:o,passport_number:d},R(),u=S(j),b=u.isValid,h=u.title,_=u.message,b){t.next=17;break}return p({title:h,message:_}),t.abrupt("return");case 17:e.sendUpdateRequest(j,e.id);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=Object(j.jsx)("input",{type:"text",placeholder:e.name,ref:m}),I=Object(j.jsx)("input",{type:"text",placeholder:e.surname,ref:x}),P=Object(j.jsx)("input",{type:"date",ref:O}),F=Object(j.jsx)("input",{type:"email",placeholder:e.email,ref:f}),k=Object(j.jsx)("input",{type:"password",placeholder:"******",ref:v}),C=Object(j.jsx)("input",{type:"number",placeholder:e.phone,ref:N}),E=Object(j.jsxs)("select",{id:"identity",ref:y,children:[Object(j.jsx)("option",{value:"ID",children:"ID"}),Object(j.jsx)("option",{value:"Passport",children:"Passport"})]}),B=Object(j.jsx)("input",{type:"number",placeholder:e.passport_number,ref:w});return Object(j.jsxs)("div",{className:V.a.details,children:[b&&Object(j.jsxs)("div",{className:V.a.error_box,children:[" ",Object(j.jsx)("div",{className:V.a.error_title,children:b.title}),Object(j.jsx)("div",{className:V.a.error_message,children:b.message})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Name: "}),Object(j.jsx)("p",{children:l?D:e.name})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Surname: "}),Object(j.jsx)("p",{children:l?I:e.surname})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Date of Birth: "}),Object(j.jsx)("p",{children:l?P:e.birth_date})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Email: "}),Object(j.jsx)("p",{children:l?F:e.email})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Password: "}),Object(j.jsx)("p",{children:l?k:"*****"})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Phone: "}),Object(j.jsx)("p",{children:l?C:e.phone})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Identity: "}),Object(j.jsx)("p",{children:l?E:e.identity})]}),Object(j.jsxs)("div",{className:V.a.flex,children:[Object(j.jsx)("p",{children:"Passport No: "}),Object(j.jsx)("p",{children:l?B:e.passport_number})]}),Object(j.jsxs)("div",{className:V.a.btnField,children:[Object(j.jsx)(a.b,{className:"btn ".concat(V.a.detailsBtn),to:"/ReactUsersApp/users",children:"Back"}),Object(j.jsx)("button",{className:"btn ".concat(V.a.detailsBtn),onClick:R,children:l?"Cancel editing":"Edit"}),l&&Object(j.jsx)("button",{className:"btn ".concat(V.a.detailsBtn),onClick:A,children:"Save"}),Object(j.jsx)("button",{className:"btn ".concat(V.a.detailsBtn),onClick:function(){Object(q.confirmAlert)({title:"Delete this user?",message:"",buttons:[{label:"Yes",onClick:function(){s.removeUser(e.id),t.push("/ReactUsersApp/users")}},{label:"No",onClick:function(){return""}}]})},children:"Delete User"})]})]})}),B=function(){var e=Object(c.useContext)(h),t=Object(i.i)().userId,s=e.persons.filter((function(e){return e.id.toString()===t.toString()}));return s[0].id?Object(j.jsx)(c.Fragment,{children:Object(j.jsx)(E,{id:t,name:s[0].name,surname:s[0].surname,birth_date:s[0].birth_date,email:s[0].email,password:s[0].password,phone:s[0].phone,identity:s[0].identity,passport_number:s[0].passport_number,sendUpdateRequest:function(t){e.editUser(t)}})}):Object(j.jsx)("p",{children:"No User found"})},T=s(29),G=s.n(T),M=s(12),W=s.n(M),J=function(){return Object(j.jsxs)("header",{className:W.a.header,children:[Object(j.jsxs)("div",{className:W.a.logo,children:["Users Web App",Object(j.jsx)("a",{className:W.a.linkToGit,href:"https://github.com/GvidasGVD/ReactUsersApp/tree/master",target:"_blank",rel:"noopener noreferrer",children:"See code in GitHub"})]}),Object(j.jsx)("nav",{className:W.a.nav,children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(a.c,{to:"/ReactUsersApp/users",activeClassName:W.a.active,children:"All Users"})}),Object(j.jsx)("li",{children:Object(j.jsx)(a.c,{to:"/ReactUsersApp/new-user",activeClassName:W.a.active,children:"Add New User"})})]})})]})},L=function(e){return Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(J,{}),Object(j.jsx)("main",{className:G.a.main,children:e.children})]})},Z=function(){return Object(j.jsx)("div",{className:"centered",children:Object(j.jsx)("p",{children:"Page not found!"})})},z=s(30),Q={persons:[{id:"u1",name:"Tom",surname:"Riddle",birth_date:"1964-12-30",email:"tomriddle@gmail.com",password:"a4da6sd7",phone:8675554687,identity:45,passport_number:46787987},{id:"u2",name:"Rick",surname:"Wangog",birth_date:"1967-12-30",email:"Wangog@gmail.com",password:"asdasdasd",phone:45647784,identity:456,passport_number:7898457}]},H=function(e,t){if("ADD"===t.type){var s=e.persons.findIndex((function(e){return e.id===t.person.id}));return e.persons[s]||!t.person.id?(alert("Cannot add person, contact administrator"),e.persons):{persons:e.persons.concat(t.person)}}if("REMOVE"===t.type)return{persons:e.persons.filter((function(e){return e.id!==t.id}))};if("UPDATE"===t.type){var r,n=e.persons.findIndex((function(e){return e.id===t.data.id}));return n>=0?((r=Object(z.a)(e.persons))[n]=t.data,{persons:r}):void alert("Something went wrong, contact administrator")}return Q},$=function(e){var t=Object(c.useReducer)(H,Q),s=Object(g.a)(t,2),r=s[0],n=s[1],a={persons:r.persons,addUser:function(e){n({type:"ADD",person:e})},removeUser:function(e){n({type:"REMOVE",id:e})},editUser:function(e){n({type:"UPDATE",data:e})}};return Object(j.jsx)(h.Provider,{value:a,children:e.children})};var X=function(){return Object(j.jsx)($,{children:Object(j.jsx)(L,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:"/",exact:!0,children:Object(j.jsx)(i.a,{to:"/ReactUsersApp"})}),Object(j.jsx)(i.b,{path:"/ReactUsersApp",exact:!0,children:Object(j.jsx)(v,{})}),Object(j.jsx)(i.b,{path:"/ReactUsersApp/users/:userId",children:Object(j.jsx)(B,{})}),Object(j.jsx)(i.b,{path:"/ReactUsersApp/new-user",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.b,{path:"/ReactUsersApp/users",exact:!0,children:Object(j.jsx)(i.a,{to:"/ReactUsersApp"})}),Object(j.jsx)(i.b,{path:"*",children:Object(j.jsx)(Z,{})})]})})})};n.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(X,{})}),document.getElementById("root"))},9:function(e,t,s){e.exports={form:"NewUserForm_form__Rx8fj",control:"NewUserForm_control__3gtAJ",actions:"NewUserForm_actions__Ubfh9",error_box:"NewUserForm_error_box__15SWX",error_title:"NewUserForm_error_title__1bJSt",error_message:"NewUserForm_error_message__N5qno"}}},[[47,1,2]]]);
//# sourceMappingURL=main.1e6f92e7.chunk.js.map