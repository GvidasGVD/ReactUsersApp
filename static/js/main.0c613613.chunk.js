(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{12:function(e,t,r){e.exports={header:"MainNavigation_header__1eTWp",logo:"MainNavigation_logo__2S30C",nav:"MainNavigation_nav__7QCTQ",active:"MainNavigation_active__3RUWq",linkToGit:"MainNavigation_linkToGit__3iPIP"}},2:function(e,t,r){e.exports={form:"NewUserForm_form__Rx8fj",control:"NewUserForm_control__3gtAJ",actions:"NewUserForm_actions__Ubfh9",error_box:"NewUserForm_error_box__15SWX",error_title:"NewUserForm_error_title__1bJSt",error_message:"NewUserForm_error_message__N5qno",error_text:"NewUserForm_error_text__2bEVh",error_input_border:"NewUserForm_error_input_border__2RYGv"}},22:function(e,t,r){e.exports={list:"UserList_list__28Q5_",sorting:"UserList_sorting__aEAuP"}},23:function(e,t,r){e.exports={item:"UserItem_item__zWGcH"}},26:function(e,t,r){e.exports={nousers:"NoUserFound_nousers__3Z54F"}},27:function(e,t,r){e.exports={card:"Card_card__1Z5RJ"}},29:function(e,t,r){e.exports={main:"Layout_main__3grmh"}},35:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var n=r(20),s=r.n(n),a=r(6),i=(r(35),r(3)),c=r(1),l=r.n(c),o=r(23),u=r.n(o),d=r(0),j=function(e){return Object(d.jsxs)("li",{className:u.a.item,children:[Object(d.jsxs)("figure",{children:[Object(d.jsxs)("blockquote",{children:[Object(d.jsx)("p",{children:e.name}),Object(d.jsx)("p",{children:e.surname})]}),Object(d.jsxs)("figcaption",{children:["Tel.: ",e.phone]}),Object(d.jsxs)("figcaption",{children:["Email: ",e.email]})]}),Object(d.jsx)(a.b,{className:"btn users_details_btn",to:"/ReactUsersApp/users/".concat(e.id),children:"View Details"})]})},b=r(22),h=r.n(b),p=l.a.createContext({persons:[],addUser:function(e){},removeUser:function(e){},editUser:function(e){}}),m=function(e){var t,r,n=Object(c.useContext)(p),s=Object(i.g)(),a=Object(i.h)(),l="asc"===new URLSearchParams(a.search).get("sort"),o=(t=n.persons,r=l,t.sort((function(e,t){return r?e.name>t.name?1:-1:e.name<t.name?1:-1}))),u=function(t){e.onInsertNewUser(t)};return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)("div",{className:h.a.sorting,children:Object(d.jsxs)("button",{onClick:function(){s.push({pathname:a.pathname,search:"?sort=".concat(l?"desc":"asc")})},children:["Sort ",l?"Descending":"Ascending"]})}),Object(d.jsx)("ul",{className:h.a.list,children:o.map((function(e){return Object(d.jsx)(j,{id:e.id,name:e.name,surname:e.surname,phone:e.phone,email:e.email,onInsertNewUser:u},e.id)}))})]})},O=r(26),x=r.n(O),f=function(){return Object(d.jsxs)("div",{className:x.a.nousers,children:[Object(d.jsx)("p",{children:"No users found!"}),Object(d.jsx)(a.b,{className:"btn",to:"/ReactUsersApp/new-user",children:"Add New User"})]})},_=function(){return 0===Object(c.useContext)(p).persons.length?Object(d.jsx)(f,{}):Object(d.jsx)(m,{})},v=r(16),g=r(7),N=r(14),y=r.n(N),U=r(27),w=r.n(U);var E=function(e){return Object(d.jsx)("div",{className:w.a.card,children:e.children})},R=r(2),A=r.n(R),D=/^[a-zA-Z].*[\s\.]*$/,C=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function I(e){var t=e.name,r=e.surname,n=e.birth_date,s=e.email,a=e.password,i=e.phone,c=e.identity,l=e.passport_number,o={title:"",message:"",isValid:!0},u=function(e){return D.test(e)};0!==t.trim().length&&0!==r.trim().length&&0!==n.trim().length&&0!==s.trim().length&&0!==a.trim().length&&0!==c.trim().length||(o={title:"Invalid input",message:"Cannot insert empty values.",isValid:!1}),(t.length<2||t.length>20||!u(t))&&(o={title:"Invalid Name",message:"Name should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(r.length<2||r.length>20||!u(r))&&(o={title:"Invalid Surname",message:"Surname should be at least 2 symbols and not more than 20 symbols. Only letters allowed",isValid:!1}),(a.length<6||a.length>15)&&(o={title:"Invalid Password",message:"Should be at least 6 symbols but not more than 15 symbols",isValid:!1}),(i.length<5||i.length>13)&&(o={title:"Invalid Phone number",message:"Should be at least 5 but not more than 13 digits ",isValid:!1}),"ID"!==c&&"Passport"!==c&&(o={title:"Identity error",message:"Only ID or Passport can be chosen ",isValid:!1}),(l.length<5||l.length>9)&&(o={title:"Invalid Passport number",message:"Should be at least 5 but not more than 9 digits ",isValid:!1}),new Date(n)>new Date&&(o={title:"Invalid Date of Birth",message:"Please insert valid date of birth",isValid:!1});return(!function(e){return C.test(e)}(s)||s.length>50)&&(o={title:"Invalid Email format",message:"Please check if email format is correct",isValid:!1}),o}var S=function(e,t,r){var n=Object(c.useState)(""),s=Object(g.a)(n,2),a=s[0],i=s[1],l=Object(c.useState)(!1),o=Object(g.a)(l,2),u=o[0],d=o[1],j=Object(c.useState)(!1),b=Object(g.a)(j,2),h=b[0],p=b[1],m=Object(c.useState)(!1),O=Object(g.a)(m,2),x=O[0],f=O[1],_=Object(c.useState)(!1),v=Object(g.a)(_,2),N=v[0],y=v[1],U=Object(c.useState)(!0),w=Object(g.a)(U,2),E=w[0],R=w[1],A=!E&&u;return Object(c.useEffect)((function(){var n=setTimeout((function(){!e(a)&&u?(y(!0),R(!1)):y(!1),!t(a)&&u?(p(!0),R(!1)):p(!1),!r(a)&&u?(f(!0),R(!1)):f(!1),e(a)&&t(a)&&r(a)&&u&&R(!0)}),500);return function(){clearTimeout(n)}}),[a,u,t]),{value:a,hasError:A,hasEmptyError:N,hasLengthError:h,hasTypeError:x,isValid:E,valueChangeHandler:function(e){i(e.target.value)},inputBlurHandler:function(){d(!0)}}},P=/^[a-zA-Z].*[\s\.]*$/,V=/^[0-9]*$/,B=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,k=function(e){var t=S((function(e){return""!==e.trim()}),(function(e){return e.length>=2&&e.length<=20}),(function(e){return P.test(e)})),r=t.value,n=t.isValid,s=t.hasEmptyError,a=t.hasLengthError,i=t.hasTypeError,l=t.valueChangeHandler,o=t.inputBlurHandler,u=S((function(e){return""!==e.trim()}),(function(e){return e.length>=2&&e.length<=20}),(function(e){return P.test(e)})),j=u.value,b=u.isValid,h=u.hasEmptyError,p=u.hasLengthError,m=u.hasTypeError,O=u.valueChangeHandler,x=u.inputBlurHandler,f=S((function(e){return""!==e.trim()}),(function(e){return e.length>=5&&e.length<=50}),(function(e){return B.test(e)})),_=f.value,N=f.isValid,U=f.hasEmptyError,w=f.hasLengthError,R=f.hasTypeError,D=f.valueChangeHandler,C=f.inputBlurHandler,k=S((function(e){return""!==e.trim()}),(function(e){return e.length>=6&&e.length<=15}),(function(e){return e})),F=k.value,T=k.isValid,H=k.hasEmptyError,L=k.hasLengthError,q=k.valueChangeHandler,G=k.inputBlurHandler,M=S((function(e){return e}),(function(e){return e.length>=5&&e.length<=13}),(function(e){return V.test(e)})),W=M.value,Z=M.isValid,z=M.hasLengthError,J=M.hasTypeError,$=M.valueChangeHandler,Q=M.inputBlurHandler,Y=S((function(e){return e}),(function(e){return e.length>=5&&e.length<=9}),(function(e){return V.test(e)})),X=(Y.value,Y.isValid),K=Y.hasLengthError,ee=Y.hasTypeError,te=Y.valueChangeHandler,re=Y.inputBlurHandler,ne=Object(c.useRef)(),se=Object(c.useRef)(),ae=Object(c.useRef)(),ie=Object(c.useRef)(),ce=Object(c.useRef)(),le=Object(c.useRef)(),oe=Object(c.useRef)(),ue=Object(c.useRef)(),de=Object(c.useState)(),je=Object(g.a)(de,2),be=je[0],he=je[1],pe=function(){var t=Object(v.a)(y.a.mark((function t(r){var n,s,a,i,c,l,o,u,d,j,b,h,p;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=ne.current.value,s=se.current.value,a=ae.current.value,i=ie.current.value,c=ce.current.value,l=le.current.value,o=oe.current.value,u=ue.current.value,d={id:"u"+(1e6*Math.random()).toFixed().toString(),name:n,surname:s,birth_date:a,email:i,password:c,phone:l,identity:o,passport_number:u},j=I(d),b=j.isValid,h=j.title,p=j.message,b){t.next=16;break}return he({title:h,message:p}),t.abrupt("return");case 16:e.onAddUser(d);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),me=s?"Name must not be empty.":a?"At least 2 but not more than 20 letters.":i?"Only letters allowed.":null,Oe=Object(d.jsx)("p",{className:A.a.error_text,children:me}),xe=h?"Surname must not be empty.":p?"At least 2 but not more than 20 letters.":m?"Only letters allowed.":null,fe=Object(d.jsx)("p",{className:A.a.error_text,children:xe}),_e=U?"Email must not be empty.":w?"At least 5 but not more than 50 characters.":R?"Invalid Email format.":null,ve=Object(d.jsx)("p",{className:A.a.error_text,children:_e}),ge=H?"Password must not be empty.":L?"At least 6 but not more than 16 characters.":null,Ne=Object(d.jsx)("p",{className:A.a.error_text,children:ge}),ye=z?"At least 5 but not more than 13 characters.":J?"Invalid phone number format.":null,Ue=Object(d.jsx)("p",{className:A.a.error_text,children:ye}),we=K?"At least 5 but not more than 9 characters.":ee?"Invalid passport number number format.":null,Ee=Object(d.jsx)("p",{className:A.a.error_text,children:we});return Object(d.jsxs)(E,{children:[be&&Object(d.jsxs)("div",{className:A.a.error_box,children:[" ",Object(d.jsx)("div",{className:A.a.error_title,children:be.title}),Object(d.jsx)("div",{className:A.a.error_message,children:be.message})]}),Object(d.jsxs)("form",{className:A.a.form,onSubmit:pe,children:[Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",required:!0,id:"Name",ref:ne,placeholder:"Name",title:"Name",value:r,onChange:l,onBlur:o,className:"".concat(n?"":A.a.error_input_border)}),Oe]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",required:!0,id:"Surname",ref:se,placeholder:"Surname",title:"Surname",onChange:O,onBlur:x,value:j,className:"".concat(b?"":A.a.error_input_border)}),fe]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"email",type:"email",required:!0,ref:ie,placeholder:"Email",title:"Email",onChange:D,value:_,onBlur:C,className:"".concat(N?"":A.a.error_input_border)}),ve]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"password",type:"password",required:!0,ref:ce,placeholder:"Password",title:"Password",onChange:q,onBlur:G,className:"".concat(T?"":A.a.error_input_border),value:F}),Ne]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"phone",type:"number",ref:le,placeholder:"Phone",title:"Phone",onChange:$,onBlur:Q,className:"".concat(Z?"":A.a.error_input_border),value:W}),Ue]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"passportnumber",type:"number",ref:ue,placeholder:"Passport/ID number",title:"Passport/ID number",onChange:te,onBlur:re,className:"".concat(X?"":A.a.error_input_border)}),Ee]})]}),Object(d.jsxs)("div",{className:A.a.control,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"identity",children:"Identity"}),Object(d.jsxs)("select",{id:"identity",ref:oe,children:[Object(d.jsx)("option",{value:"ID",defaultValue:!0,children:"ID"}),Object(d.jsx)("option",{value:"Passport",children:"Passport"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"birthdate",children:"Birth Date"}),Object(d.jsx)("input",{type:"date",id:"birthdate",ref:ae})]})]}),Object(d.jsx)("div",{className:A.a.actions,children:Object(d.jsx)("button",{children:"Add User"})})]})]})},F=function(){var e=Object(i.g)(),t=Object(c.useContext)(p);return Object(d.jsx)(k,{onAddUser:function(r){t.addUser(r),e.push("/ReactUsersApp/users")}})},T=r(5),H=r.n(T),L=r(28),q=(r(46),function(e){var t=Object(i.g)(),r=Object(c.useContext)(p),n=Object(c.useState)(!1),s=Object(g.a)(n,2),l=s[0],o=s[1],u=Object(c.useState)(),j=Object(g.a)(u,2),b=j[0],h=j[1],m=Object(c.useRef)(),O=Object(c.useRef)(),x=Object(c.useRef)(),f=Object(c.useRef)(),_=Object(c.useRef)(),N=Object(c.useRef)(),U=Object(c.useRef)(),w=Object(c.useRef)(),E=function(){o(!l)},R=function(){var t=Object(v.a)(y.a.mark((function t(r){var n,s,a,i,c,l,o,u,d,j,b,p,v;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=m.current.value?m.current.value:e.name,s=O.current.value?O.current.value:e.surname,a=x.current.value?x.current.value:e.birth_date,i=f.current.value?f.current.value:e.email,c=_.current.value?_.current.value:e.password,l=N.current.value?N.current.value:e.phone,o=U.current.value?U.current.value:e.identity,u=w.current.value?w.current.value:e.passport_number,d={id:e.id,name:n,surname:s,birth_date:a,email:i,password:c,phone:l,identity:o,passport_number:u},E(),j=I(d),b=j.isValid,p=j.title,v=j.message,b){t.next=17;break}return h({title:p,message:v}),t.abrupt("return");case 17:e.sendUpdateRequest(d,e.id);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(d.jsx)("input",{type:"text",placeholder:e.name,ref:m}),D=Object(d.jsx)("input",{type:"text",placeholder:e.surname,ref:O}),C=Object(d.jsx)("input",{type:"date",ref:x}),S=Object(d.jsx)("input",{type:"email",placeholder:e.email,ref:f}),P=Object(d.jsx)("input",{type:"password",placeholder:"******",ref:_}),V=Object(d.jsx)("input",{type:"number",placeholder:e.phone,ref:N}),B=Object(d.jsxs)("select",{className:H.a.identity_field,id:"identity",ref:U,children:[Object(d.jsx)("option",{value:"ID",children:"ID"}),Object(d.jsx)("option",{value:"Passport",children:"Passport"})]}),k=Object(d.jsx)("input",{type:"number",placeholder:e.passport_number,ref:w});return Object(d.jsxs)("div",{className:H.a.details,children:[b&&Object(d.jsxs)("div",{className:H.a.error_box,children:[" ",Object(d.jsx)("div",{className:H.a.error_title,children:b.title}),Object(d.jsx)("div",{className:H.a.error_message,children:b.message})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Name: "}),Object(d.jsx)("p",{children:l?A:e.name})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Surname: "}),Object(d.jsx)("p",{children:l?D:e.surname})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Date of Birth: "}),Object(d.jsx)("p",{children:l?C:e.birth_date})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Email: "}),Object(d.jsx)("p",{children:l?S:e.email})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Password: "}),Object(d.jsx)("p",{children:l?P:"*****"})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Phone: "}),Object(d.jsx)("p",{children:l?V:e.phone})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Identity: "}),Object(d.jsx)("p",{children:l?B:e.identity})]}),Object(d.jsxs)("div",{className:H.a.flex,children:[Object(d.jsx)("p",{children:"Passport No: "}),Object(d.jsx)("p",{children:l?k:e.passport_number})]}),Object(d.jsxs)("div",{className:H.a.btnField,children:[Object(d.jsx)(a.b,{className:"btn ".concat(H.a.detailsBtn),to:"/ReactUsersApp/users",children:"Back"}),Object(d.jsx)("button",{className:"btn ".concat(H.a.detailsBtn),onClick:E,children:l?"Cancel editing":"Edit"}),l&&Object(d.jsx)("button",{className:"btn ".concat(H.a.detailsBtn),onClick:R,children:"Save"}),Object(d.jsx)("button",{className:"btn ".concat(H.a.detailsBtn),onClick:function(){Object(L.confirmAlert)({title:"Delete this user?",message:"",buttons:[{label:"Yes",onClick:function(){r.removeUser(e.id),t.push("/ReactUsersApp/users")}},{label:"No",onClick:function(){return""}}]})},children:"Delete User"})]})]})}),G=function(){var e=Object(c.useContext)(p),t=Object(i.i)().userId,r=e.persons.filter((function(e){return e.id.toString()===t.toString()}));return r[0].id?Object(d.jsx)(c.Fragment,{children:Object(d.jsx)(q,{id:t,name:r[0].name,surname:r[0].surname,birth_date:r[0].birth_date,email:r[0].email,password:r[0].password,phone:r[0].phone,identity:r[0].identity,passport_number:r[0].passport_number,sendUpdateRequest:function(t){e.editUser(t)}})}):Object(d.jsx)("p",{children:"No User found"})},M=r(29),W=r.n(M),Z=r(12),z=r.n(Z),J=function(){return Object(d.jsxs)("header",{className:z.a.header,children:[Object(d.jsxs)("div",{className:z.a.logo,children:[Object(d.jsx)("span",{children:"Users Web App"}),Object(d.jsx)("a",{className:z.a.linkToGit,href:"https://github.com/GvidasGVD/ReactUsersApp/tree/master",target:"_blank",rel:"noopener noreferrer",children:"See code in GitHub"})]}),Object(d.jsx)("nav",{className:z.a.nav,children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.c,{to:"/ReactUsersApp/users",activeClassName:z.a.active,children:"All Users"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.c,{to:"/ReactUsersApp/new-user",activeClassName:z.a.active,children:"Add New User"})})]})})]})},$=function(e){return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(J,{}),Object(d.jsx)("main",{className:W.a.main,children:e.children})]})},Q=function(){return Object(d.jsx)("div",{className:"centered",children:Object(d.jsx)("p",{children:"Page not found!"})})},Y=r(30),X={persons:[{id:"u1",name:"Tom",surname:"Riddle",birth_date:"1964-12-30",email:"tomriddle@gmail.com",password:"a4da6sd7",phone:8675554687,identity:45,passport_number:46787987},{id:"u2",name:"Rick",surname:"Wangog",birth_date:"1967-12-30",email:"Wangog@gmail.com",password:"asdasdasd",phone:45647784,identity:456,passport_number:7898457}]},K=function(e,t){if("ADD"===t.type){var r=e.persons.findIndex((function(e){return e.id===t.person.id}));return e.persons[r]||!t.person.id?(alert("Cannot add person, contact administrator"),e.persons):{persons:e.persons.concat(t.person)}}if("REMOVE"===t.type)return{persons:e.persons.filter((function(e){return e.id!==t.id}))};if("UPDATE"===t.type){var n,s=e.persons.findIndex((function(e){return e.id===t.data.id}));return s>=0?((n=Object(Y.a)(e.persons))[s]=t.data,{persons:n}):void alert("Something went wrong, contact administrator")}return X},ee=function(e){var t=Object(c.useReducer)(K,X),r=Object(g.a)(t,2),n=r[0],s=r[1],a={persons:n.persons,addUser:function(e){s({type:"ADD",person:e})},removeUser:function(e){s({type:"REMOVE",id:e})},editUser:function(e){s({type:"UPDATE",data:e})}};return Object(d.jsx)(p.Provider,{value:a,children:e.children})};var te=function(){return Object(d.jsx)(ee,{children:Object(d.jsx)($,{children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/",exact:!0,children:Object(d.jsx)(i.a,{to:"/ReactUsersApp"})}),Object(d.jsx)(i.b,{path:"/ReactUsersApp",exact:!0,children:Object(d.jsx)(_,{})}),Object(d.jsx)(i.b,{path:"/ReactUsersApp/users/:userId",children:Object(d.jsx)(G,{})}),Object(d.jsx)(i.b,{path:"/ReactUsersApp/new-user",children:Object(d.jsx)(F,{})}),Object(d.jsx)(i.b,{path:"/ReactUsersApp/users",exact:!0,children:Object(d.jsx)(i.a,{to:"/ReactUsersApp"})}),Object(d.jsx)(i.b,{path:"*",children:Object(d.jsx)(Q,{})})]})})})};s.a.render(Object(d.jsx)(a.a,{children:Object(d.jsx)(te,{})}),document.getElementById("root"))},5:function(e,t,r){e.exports={details:"UserDetails_details__2Lhh9",flex:"UserDetails_flex__2siVv",btnField:"UserDetails_btnField__31p68",detailsBtn:"UserDetails_detailsBtn__1GNfu",passwordInput:"UserDetails_passwordInput__2vedh",error_box:"UserDetails_error_box__36td-",error_title:"UserDetails_error_title__1Wj1T",error_message:"UserDetails_error_message__2tvP_",identity_field:"UserDetails_identity_field__3tngV"}}},[[47,1,2]]]);
//# sourceMappingURL=main.0c613613.chunk.js.map